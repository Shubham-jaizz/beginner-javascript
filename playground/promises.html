<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Promises</title>
  <link rel="stylesheet" href="../base.css">
</head>

<body>
  <script>
     const handleError = function(err) {
      console.log("uhh on something wrong");
      console.log(err);
     }
    function makePizza(toppings) {
  const pizzaPromise = new Promise(function(resolve, reject) {

  const amountOfTime = 500+toppings.length*200;
    
    setTimeout(function() {
    resolve(`Here is your pizza 🍕 with the toppings ${toppings.join(' ')}`);
   
  },amountOfTime);
  if (toppings.includes('pineapple')) {
      reject("Seriously? Get out 🍍");
    }
  });
  return pizzaPromise;
}
const pizzaPromise1 = makePizza(['pepperoni']);
const pizzaPromise2 = makePizza(['pepperoni', 'mushroom'])
const pizzaPromise3 = makePizza(['garlic', 'pineapple'])

// console.log(pepperoniPromise, canadianPromise);


// makePizza(['pepperoni']).then(function(pizza){
//          console.log(pizza);
//          return makePizza(['onion','mushroom'])   
// })
// .then(function(pizza){
//          console.log(pizza);
//          return makePizza(['pineapple','garlic','yo','jndknsa','janawar','one','two','three','four','five']) 
// })
// .then(function(pizza) {
//     console.log(pizza);
//     return makePizza(['ama','ksdkckjc','yo','jndknsa']) 
//   })
//   .then(function(pizza){
//     console.log(pizza);
//   }).catch(handleError);
  const makeAllpizza = Promise.allSettled([pizzaPromise1,pizzaPromise2,pizzaPromise3]);
  makeAllpizza.then(function([pepperoniPromise,canadianPromise,frenchPromise]){
        console.log([pepperoniPromise,canadianPromise,frenchPromise]);
  }).catch(handleError);
  // const firstPizzaPromise = Promise.race([pizzaPromise1, pizzaPromise2, pizzaPromise3]);

  //   firstPizzaPromise.then(pizza => {
  //     console.log('You must be hungry, here is the first one ready');
  //     console.log(pizza);
  //   })
    
    //  makePizza(['pepperoni', 'pineapple']).then(pizza =>{
    //         console.log(pizza);
    //  }).catch(handleError);

    </script>
</body>

</html>
